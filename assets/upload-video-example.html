<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>360 Video World</title>
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/views/index.css">
</head>

<body>
  <div id="container"></div>
  <div class="p-absolute-center" id="title-wrapper">
    <input type="file" accept="video/*" id="input-tag" />
    <hr>
    <video controls id="video-tag">
      <source id="video-source" src="splashVideo">
      Your browser does not support the video tag.
    </video>
  </div>
  <div id="credit">Nguồn ảnh: <a href="https://unsplash.com/s/photos/360" target="_blank">unplash.com</a></div>
  <script src="./js/jquery.min.js"></script>
  <script src="./js/three.min.js"></script>
  <script src="./js/panolens.min.js"></script>
  <script>
    const videoSrc = document.querySelector("#video-source");
    const videoTag = document.querySelector("#video-tag");
    const inputTag = document.querySelector("#input-tag");

    inputTag.addEventListener('change', readVideo)

    function readVideo(event) {
      console.log(event.target.files)
      if (event.target.files && event.target.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
          console.log('loaded')
          videoSrc.src = e.target.result
          videoTag.load()
        }.bind(this)

        reader.readAsDataURL(event.target.files[0]);
      }
    }
  </script>
</body>

</html>